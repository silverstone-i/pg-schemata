<!DOCTYPE html>
<html lang="en">
  <head <meta charset="utf-8">
    <title>TableModel - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css" />
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css" />
    <script src="scripts/nav.js" defer></script>

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body>
    <input type="checkbox" id="nav-trigger" class="nav-trigger" />
    <label for="nav-trigger" class="navicon-button x">
      <div class="navicon"></div>
    </label>

    <label for="nav-trigger" class="overlay"></label>

    <nav>
      <ul>
        <li>
          <a href="index.html">
            <img
              src="images/nap-logo.png"
              alt="NapLogo"
              style="height: 100px"
            />
          </a>
        </li>
        <h2><a href="index.html">Home</a></h2>
        <h3>Classes</h3>
        <ul>
          <li>
            <a href="TableModel.html">TableModel</a>
            <ul class="methods">
              <li data-type="method">
                <a href="TableModel.html#count">count</a>
              </li>
              <li data-type="method">
                <a href="TableModel.html#createTable">createTable</a>
              </li>
              <li data-type="method">
                <a href="TableModel.html#delete">delete</a>
              </li>
              <li data-type="method">
                <a href="TableModel.html#exists">exists</a>
              </li>
              <li data-type="method">
                <a href="TableModel.html#findAfterCursor">findAfterCursor</a>
              </li>
              <li data-type="method">
                <a href="TableModel.html#findAll">findAll</a>
              </li>
              <li data-type="method">
                <a href="TableModel.html#findBy">findBy</a>
              </li>
              <li data-type="method">
                <a href="TableModel.html#findById">findById</a>
              </li>
              <li data-type="method">
                <a href="TableModel.html#findOneBy">findOneBy</a>
              </li>
              <li data-type="method">
                <a href="TableModel.html#insert">insert</a>
              </li>
              <li data-type="method">
                <a href="TableModel.html#logQuery">logQuery</a>
              </li>
              <li data-type="method">
                <a href="TableModel.html#reload">reload</a>
              </li>
              <li data-type="method">
                <a href="TableModel.html#sanitizeDto">sanitizeDto</a>
              </li>
              <li data-type="method">
                <a href="TableModel.html#setSchema">setSchema</a>
              </li>
              <li data-type="method">
                <a href="TableModel.html#truncate">truncate</a>
              </li>
              <li data-type="method">
                <a href="TableModel.html#update">update</a>
              </li>
              <li data-type="method">
                <a href="TableModel.html#withSchema">withSchema</a>
              </li>
            </ul>
          </li>
          <li><a href="DB.html">DB</a></li>
        </ul>
        <h3>Global</h3>
        <ul>
          <li><a href="global.html#addAuditFields">addAuditFields</a></li>
          <li><a href="global.html#createColumnSet">createColumnSet</a></li>
          <li><a href="global.html#createHash">createHash</a></li>
          <li><a href="global.html#createIndexesSQL">createIndexesSQL</a></li>
          <li><a href="global.html#createTableSQL">createTableSQL</a></li>
          <li><a href="global.html#isPlainObject">isPlainObject</a></li>
          <li><a href="global.html#isValidId">isValidId</a></li>
          <li><a href="global.html#normalizeSQL">normalizeSQL</a></li>
          <li><a href="global.html#tableSchema">tableSchema</a></li>
          <li><a href="global.html#validateUUID">validateUUID</a></li>
        </ul>
      </ul>
    </nav>

    <div id="main">
      <h1 class="page-title">TableModel</h1>

      <section>
        <header>
          <h2>TableModel</h2>

          <div class="class-description usertext">
            Creates an instance of TableModel.
          </div>
        </header>

        <article>
          <div class="container-overview">
            <h2>Constructor</h2>

            <h4 class="name" id="TableModel">
              <span class="type-signature"></span>new TableModel<span
                class="signature"
                >(db, pgp, schema, logger<span class="signature-attributes"
                  >opt</span
                >)</span
              ><span class="type-signature"></span>
            </h4>

            <dl class="details">
              <dt class="tag-source">Source:</dt>
              <dd class="tag-source">
                <ul class="dummy">
                  <li>
                    <a href="TableModel.js.html">TableModel.js</a>,
                    <a href="TableModel.js.html#line28">line 28</a>
                  </li>
                </ul>
              </dd>
            </dl>

            <h5 class="h5-parameters">Parameters:</h5>

            <table class="params">
              <thead>
                <tr>
                  <th>Name</th>

                  <th>Type</th>

                  <th>Attributes</th>

                  <th class="last">Description</th>
                </tr>
              </thead>

              <tbody>
                <tr>
                  <td class="name"><code>db</code></td>

                  <td class="type">
                    <span class="param-type">Object</span>
                  </td>

                  <td class="attributes"></td>

                  <td class="description last">
                    Database instance created by pg-promise.
                  </td>
                </tr>

                <tr>
                  <td class="name"><code>pgp</code></td>

                  <td class="type">
                    <span class="param-type">Object</span>
                  </td>

                  <td class="attributes"></td>

                  <td class="description last">
                    pg-promise root instance for helpers and formatting.
                  </td>
                </tr>

                <tr>
                  <td class="name"><code>schema</code></td>

                  <td class="type">
                    <span class="param-type">Object</span>
                  </td>

                  <td class="attributes"></td>

                  <td class="description last">
                    JSON schema definition for the table.
                  </td>
                </tr>

                <tr>
                  <td class="name"><code>logger</code></td>

                  <td class="type">
                    <span class="param-type">Object</span>
                  </td>

                  <td class="attributes">&lt;optional><br /></td>

                  <td class="description last">
                    Optional logger with debug and error methods.
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <h3 class="subsection-title">Methods</h3>

          <h4 class="name" id="count">
            <span class="type-signature type-signature-async">(async) </span
            >count<span class="signature">()</span
            ><span class="type-signature"> &rarr; {Promise.&lt;number>}</span>
          </h4>

          <dl class="details">
            <dt class="tag-description">Description:</dt>
            <dd class="tag-description">
              <ul class="dummy">
                <li>Returns the total number of rows in the table.</li>
              </ul>
            </dd>

            <dt class="tag-source">Source:</dt>
            <dd class="tag-source">
              <ul class="dummy">
                <li>
                  <a href="TableModel.js.html">TableModel.js</a>,
                  <a href="TableModel.js.html#line476">line 476</a>
                </li>
              </ul>
            </dd>
          </dl>

          <h5 class="h5-returns">Returns:</h5>

          <div class="param-desc">Total number of rows.</div>

          <dl class="param-type">
            <dt>Type</dt>
            <dd>
              <span class="param-type">Promise.&lt;number></span>
            </dd>
          </dl>

          <h4 class="name" id="createTable">
            <span class="type-signature type-signature-async">(async) </span
            >createTable<span class="signature">()</span
            ><span class="type-signature"> &rarr; {Promise.&lt;void>}</span>
          </h4>

          <dl class="details">
            <dt class="tag-description">Description:</dt>
            <dd class="tag-description">
              <ul class="dummy">
                <li>Creates the table in the database if it doesn't exist.</li>
              </ul>
            </dd>

            <dt class="tag-source">Source:</dt>
            <dd class="tag-source">
              <ul class="dummy">
                <li>
                  <a href="TableModel.js.html">TableModel.js</a>,
                  <a href="TableModel.js.html#line109">line 109</a>
                </li>
              </ul>
            </dd>
          </dl>

          <h5 class="h5-throws">Throws:</h5>

          <dl>
            <dt>
              <div class="param-desc usertext">
                If the table creation fails.
              </div>
            </dt>
            <dd></dd>
            <dt>
              <dl class="param-type">
                <dt>Type</dt>
                <dd>
                  <span class="param-type">Error</span>
                </dd>
              </dl>
            </dt>
            <dd></dd>
          </dl>

          <h5 class="h5-returns">Returns:</h5>

          <dl class="param-type">
            <dt>Type</dt>
            <dd>
              <span class="param-type">Promise.&lt;void></span>
            </dd>
          </dl>

          <h4 class="name" id="delete">
            <span class="type-signature type-signature-async">(async) </span
            >delete<span class="signature">(id)</span
            ><span class="type-signature"> &rarr; {Promise.&lt;number>}</span>
          </h4>

          <dl class="details">
            <dt class="tag-description">Description:</dt>
            <dd class="tag-description">
              <ul class="dummy">
                <li>
                  Deletes a row by ID. Returns the number of rows affected.
                </li>
              </ul>
            </dd>

            <dt class="tag-source">Source:</dt>
            <dd class="tag-source">
              <ul class="dummy">
                <li>
                  <a href="TableModel.js.html">TableModel.js</a>,
                  <a href="TableModel.js.html#line459">line 459</a>
                </li>
              </ul>
            </dd>
          </dl>

          <h5 class="h5-parameters">Parameters:</h5>

          <table class="params">
            <thead>
              <tr>
                <th>Name</th>

                <th>Type</th>

                <th class="last">Description</th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td class="name"><code>id</code></td>

                <td class="type">
                  <span class="param-type">number</span>
                  |

                  <span class="param-type">string</span>
                </td>

                <td class="description last">
                  The ID of the record to delete.
                </td>
              </tr>
            </tbody>
          </table>

          <h5 class="h5-returns">Returns:</h5>

          <div class="param-desc">Number of rows affected.</div>

          <dl class="param-type">
            <dt>Type</dt>
            <dd>
              <span class="param-type">Promise.&lt;number></span>
            </dd>
          </dl>

          <h4 class="name" id="exists">
            <span class="type-signature type-signature-async">(async) </span
            >exists<span class="signature">(conditions)</span
            ><span class="type-signature"> &rarr; {Promise.&lt;boolean>}</span>
          </h4>

          <dl class="details">
            <dt class="tag-description">Description:</dt>
            <dd class="tag-description">
              <ul class="dummy">
                <li>
                  Checks if a record exists matching the given condition object.
                </li>
              </ul>
            </dd>

            <dt class="tag-source">Source:</dt>
            <dd class="tag-source">
              <ul class="dummy">
                <li>
                  <a href="TableModel.js.html">TableModel.js</a>,
                  <a href="TableModel.js.html#line386">line 386</a>
                </li>
              </ul>
            </dd>
          </dl>

          <h5 class="h5-parameters">Parameters:</h5>

          <table class="params">
            <thead>
              <tr>
                <th>Name</th>

                <th>Type</th>

                <th class="last">Description</th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td class="name"><code>conditions</code></td>

                <td class="type">
                  <span class="param-type">Object</span>
                </td>

                <td class="description last">
                  Conditions to check for existence.
                </td>
              </tr>
            </tbody>
          </table>

          <h5 class="h5-returns">Returns:</h5>

          <div class="param-desc">
            True if the record exists, false otherwise.
          </div>

          <dl class="param-type">
            <dt>Type</dt>
            <dd>
              <span class="param-type">Promise.&lt;boolean></span>
            </dd>
          </dl>

          <h4 class="name" id="findAfterCursor">
            <span class="type-signature type-signature-async">(async) </span
            >findAfterCursor<span class="signature"
              >(cursor, limit, orderBy, options)</span
            ><span class="type-signature"> &rarr; {Promise.&lt;Object>}</span>
          </h4>

          <dl class="details">
            <dt class="tag-description">Description:</dt>
            <dd class="tag-description">
              <ul class="dummy">
                <li>Fetches records after a given cursor for pagination.</li>
              </ul>
            </dd>

            <dt class="tag-source">Source:</dt>
            <dd class="tag-source">
              <ul class="dummy">
                <li>
                  <a href="TableModel.js.html">TableModel.js</a>,
                  <a href="TableModel.js.html#line289">line 289</a>
                </li>
              </ul>
            </dd>
          </dl>

          <h5 class="h5-parameters">Parameters:</h5>

          <table class="params">
            <thead>
              <tr>
                <th>Name</th>

                <th>Type</th>

                <th>Default</th>

                <th class="last">Description</th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td class="name"><code>cursor</code></td>

                <td class="type">
                  <span class="param-type">Object</span>
                </td>

                <td class="default"></td>

                <td class="description last">
                  Cursor values keyed by column names.
                </td>
              </tr>

              <tr>
                <td class="name"><code>limit</code></td>

                <td class="type">
                  <span class="param-type">number</span>
                </td>

                <td class="default">
                  <code>50</code>
                </td>

                <td class="description last">Number of rows to fetch.</td>
              </tr>

              <tr>
                <td class="name"><code>orderBy</code></td>

                <td class="type">
                  <span class="param-type">Array</span>
                </td>

                <td class="default"></td>

                <td class="description last">
                  List of column names used for ordering.
                </td>
              </tr>

              <tr>
                <td class="name"><code>options</code></td>

                <td class="type">
                  <span class="param-type">Object</span>
                </td>

                <td class="default"></td>

                <td class="description last">
                  Optional flags and filters.
                  <h6>Properties</h6>

                  <table class="params">
                    <thead>
                      <tr>
                        <th>Name</th>

                        <th>Type</th>

                        <th>Attributes</th>

                        <th class="last">Description</th>
                      </tr>
                    </thead>

                    <tbody>
                      <tr>
                        <td class="name"><code>descending</code></td>

                        <td class="type">
                          <span class="param-type">boolean</span>
                        </td>

                        <td class="attributes">&lt;optional><br /></td>

                        <td class="description last">
                          If true, fetches in descending order.
                        </td>
                      </tr>

                      <tr>
                        <td class="name"><code>columnWhitelist</code></td>

                        <td class="type">
                          <span class="param-type">Array</span>
                        </td>

                        <td class="attributes">&lt;optional><br /></td>

                        <td class="description last">
                          List of columns to return.
                        </td>
                      </tr>

                      <tr>
                        <td class="name"><code>filters</code></td>

                        <td class="type">
                          <span class="param-type">Object</span>
                        </td>

                        <td class="attributes">&lt;optional><br /></td>

                        <td class="description last">
                          Object specifying filter conditions.
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </td>
              </tr>
            </tbody>
          </table>

          <h5 class="h5-returns">Returns:</h5>

          <div class="param-desc">An object with `rows` and `nextCursor`.</div>

          <dl class="param-type">
            <dt>Type</dt>
            <dd>
              <span class="param-type">Promise.&lt;Object></span>
            </dd>
          </dl>

          <h4 class="name" id="findAll">
            <span class="type-signature type-signature-async">(async) </span
            >findAll<span class="signature"
              >(options<span class="signature-attributes">opt</span>)</span
            ><span class="type-signature">
              &rarr; {Promise.&lt;Array.&lt;Object>>}</span
            >
          </h4>

          <dl class="details">
            <dt class="tag-description">Description:</dt>
            <dd class="tag-description">
              <ul class="dummy">
                <li>
                  Fetches all records with pagination support using limit and
                  offset.
                </li>
              </ul>
            </dd>

            <dt class="tag-source">Source:</dt>
            <dd class="tag-source">
              <ul class="dummy">
                <li>
                  <a href="TableModel.js.html">TableModel.js</a>,
                  <a href="TableModel.js.html#line167">line 167</a>
                </li>
              </ul>
            </dd>
          </dl>

          <h5 class="h5-parameters">Parameters:</h5>

          <table class="params">
            <thead>
              <tr>
                <th>Name</th>

                <th>Type</th>

                <th>Attributes</th>

                <th class="last">Description</th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td class="name"><code>options</code></td>

                <td class="type">
                  <span class="param-type">Object</span>
                </td>

                <td class="attributes">&lt;optional><br /></td>

                <td class="description last">
                  Pagination options.
                  <h6>Properties</h6>

                  <table class="params">
                    <thead>
                      <tr>
                        <th>Name</th>

                        <th>Type</th>

                        <th>Attributes</th>

                        <th>Default</th>

                        <th class="last">Description</th>
                      </tr>
                    </thead>

                    <tbody>
                      <tr>
                        <td class="name"><code>limit</code></td>

                        <td class="type">
                          <span class="param-type">number</span>
                        </td>

                        <td class="attributes">&lt;optional><br /></td>

                        <td class="default">
                          <code>50</code>
                        </td>

                        <td class="description last">
                          Maximum number of records to return.
                        </td>
                      </tr>

                      <tr>
                        <td class="name"><code>offset</code></td>

                        <td class="type">
                          <span class="param-type">number</span>
                        </td>

                        <td class="attributes">&lt;optional><br /></td>

                        <td class="default">
                          <code>0</code>
                        </td>

                        <td class="description last">
                          Number of records to skip.
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </td>
              </tr>
            </tbody>
          </table>

          <h5 class="h5-returns">Returns:</h5>

          <div class="param-desc">Array of records.</div>

          <dl class="param-type">
            <dt>Type</dt>
            <dd>
              <span class="param-type">Promise.&lt;Array.&lt;Object>></span>
            </dd>
          </dl>

          <h4 class="name" id="findBy">
            <span class="type-signature type-signature-async">(async) </span
            >findBy<span class="signature"
              >(conditions, joinType<span class="signature-attributes">opt</span
              >, options<span class="signature-attributes">opt</span>)</span
            ><span class="type-signature"> &rarr; {Promise.&lt;Array>}</span>
          </h4>

          <dl class="details">
            <dt class="tag-description">Description:</dt>
            <dd class="tag-description">
              <ul class="dummy">
                <li>
                  Finds records matching given conditions and optional filters.
                </li>
              </ul>
            </dd>

            <dt class="tag-source">Source:</dt>
            <dd class="tag-source">
              <ul class="dummy">
                <li>
                  <a href="TableModel.js.html">TableModel.js</a>,
                  <a href="TableModel.js.html#line216">line 216</a>
                </li>
              </ul>
            </dd>
          </dl>

          <h5 class="h5-parameters">Parameters:</h5>

          <table class="params">
            <thead>
              <tr>
                <th>Name</th>

                <th>Type</th>

                <th>Attributes</th>

                <th>Default</th>

                <th class="last">Description</th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td class="name"><code>conditions</code></td>

                <td class="type">
                  <span class="param-type">Array</span>
                </td>

                <td class="attributes"></td>

                <td class="default"></td>

                <td class="description last">
                  Array of equality condition objects.
                </td>
              </tr>

              <tr>
                <td class="name"><code>joinType</code></td>

                <td class="type">
                  <span class="param-type">string</span>
                </td>

                <td class="attributes">&lt;optional><br /></td>

                <td class="default">
                  <code>AND</code>
                </td>

                <td class="description last">
                  Logical operator to join conditions (e.g., 'AND', 'OR').
                </td>
              </tr>

              <tr>
                <td class="name"><code>options</code></td>

                <td class="type">
                  <span class="param-type">Object</span>
                </td>

                <td class="attributes">&lt;optional><br /></td>

                <td class="default"></td>

                <td class="description last">
                  Additional query options.
                  <h6>Properties</h6>

                  <table class="params">
                    <thead>
                      <tr>
                        <th>Name</th>

                        <th>Type</th>

                        <th>Attributes</th>

                        <th class="last">Description</th>
                      </tr>
                    </thead>

                    <tbody>
                      <tr>
                        <td class="name"><code>columnWhitelist</code></td>

                        <td class="type">
                          <span class="param-type">Array</span>
                        </td>

                        <td class="attributes">&lt;optional><br /></td>

                        <td class="description last">
                          List of columns to return.
                        </td>
                      </tr>

                      <tr>
                        <td class="name"><code>filters</code></td>

                        <td class="type">
                          <span class="param-type">Object</span>
                        </td>

                        <td class="attributes">&lt;optional><br /></td>

                        <td class="description last">
                          Object specifying AND/OR filters.
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </td>
              </tr>
            </tbody>
          </table>

          <h5 class="h5-returns">Returns:</h5>

          <div class="param-desc">
            A promise that resolves to an array of matching records.
          </div>

          <dl class="param-type">
            <dt>Type</dt>
            <dd>
              <span class="param-type">Promise.&lt;Array></span>
            </dd>
          </dl>

          <h4 class="name" id="findById">
            <span class="type-signature type-signature-async">(async) </span
            >findById<span class="signature">(id)</span
            ><span class="type-signature">
              &rarr; {Promise.&lt;(Object|null)>}</span
            >
          </h4>

          <dl class="details">
            <dt class="tag-description">Description:</dt>
            <dd class="tag-description">
              <ul class="dummy">
                <li>
                  Retrieves a single row by ID. Returns null if not found.
                </li>
              </ul>
            </dd>

            <dt class="tag-source">Source:</dt>
            <dd class="tag-source">
              <ul class="dummy">
                <li>
                  <a href="TableModel.js.html">TableModel.js</a>,
                  <a href="TableModel.js.html#line183">line 183</a>
                </li>
              </ul>
            </dd>
          </dl>

          <h5 class="h5-parameters">Parameters:</h5>

          <table class="params">
            <thead>
              <tr>
                <th>Name</th>

                <th>Type</th>

                <th class="last">Description</th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td class="name"><code>id</code></td>

                <td class="type">
                  <span class="param-type">number</span>
                  |

                  <span class="param-type">string</span>
                </td>

                <td class="description last">
                  The ID of the record to retrieve.
                </td>
              </tr>
            </tbody>
          </table>

          <h5 class="h5-returns">Returns:</h5>

          <div class="param-desc">The found record or null.</div>

          <dl class="param-type">
            <dt>Type</dt>
            <dd>
              <span class="param-type">Promise.&lt;(Object|null)></span>
            </dd>
          </dl>

          <h4 class="name" id="findOneBy">
            <span class="type-signature type-signature-async">(async) </span
            >findOneBy<span class="signature"
              >(conditions, options<span class="signature-attributes">opt</span
              >)</span
            ><span class="type-signature">
              &rarr; {Promise.&lt;(Object|null)>}</span
            >
          </h4>

          <dl class="details">
            <dt class="tag-description">Description:</dt>
            <dd class="tag-description">
              <ul class="dummy">
                <li>
                  Executes findBy with AND conditions and returns only the first
                  result.
                </li>
              </ul>
            </dd>

            <dt class="tag-source">Source:</dt>
            <dd class="tag-source">
              <ul class="dummy">
                <li>
                  <a href="TableModel.js.html">TableModel.js</a>,
                  <a href="TableModel.js.html#line372">line 372</a>
                </li>
              </ul>
            </dd>
          </dl>

          <h5 class="h5-parameters">Parameters:</h5>

          <table class="params">
            <thead>
              <tr>
                <th>Name</th>

                <th>Type</th>

                <th>Attributes</th>

                <th class="last">Description</th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td class="name"><code>conditions</code></td>

                <td class="type">
                  <span class="param-type">Array.&lt;Object></span>
                </td>

                <td class="attributes"></td>

                <td class="description last">Array of equality conditions.</td>
              </tr>

              <tr>
                <td class="name"><code>options</code></td>

                <td class="type">
                  <span class="param-type">Object</span>
                </td>

                <td class="attributes">&lt;optional><br /></td>

                <td class="description last">Query options.</td>
              </tr>
            </tbody>
          </table>

          <h5 class="h5-returns">Returns:</h5>

          <div class="param-desc">The first matching row or null.</div>

          <dl class="param-type">
            <dt>Type</dt>
            <dd>
              <span class="param-type">Promise.&lt;(Object|null)></span>
            </dd>
          </dl>

          <h4 class="name" id="insert">
            <span class="type-signature type-signature-async">(async) </span
            >insert<span class="signature">(dto)</span
            ><span class="type-signature"> &rarr; {Promise.&lt;Object>}</span>
          </h4>

          <dl class="details">
            <dt class="tag-description">Description:</dt>
            <dd class="tag-description">
              <ul class="dummy">
                <li>Inserts a new row into the table.</li>
              </ul>
            </dd>

            <dt class="tag-source">Source:</dt>
            <dd class="tag-source">
              <ul class="dummy">
                <li>
                  <a href="TableModel.js.html">TableModel.js</a>,
                  <a href="TableModel.js.html#line129">line 129</a>
                </li>
              </ul>
            </dd>
          </dl>

          <h5 class="h5-parameters">Parameters:</h5>

          <table class="params">
            <thead>
              <tr>
                <th>Name</th>

                <th>Type</th>

                <th class="last">Description</th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td class="name"><code>dto</code></td>

                <td class="type">
                  <span class="param-type">Object</span>
                </td>

                <td class="description last">
                  Data Transfer Object to insert.
                </td>
              </tr>
            </tbody>
          </table>

          <h5 class="h5-returns">Returns:</h5>

          <div class="param-desc">Inserted row.</div>

          <dl class="param-type">
            <dt>Type</dt>
            <dd>
              <span class="param-type">Promise.&lt;Object></span>
            </dd>
          </dl>

          <h4 class="name" id="logQuery">
            <span class="type-signature"></span>logQuery<span class="signature"
              >(query)</span
            ><span class="type-signature"></span>
          </h4>

          <dl class="details">
            <dt class="tag-description">Description:</dt>
            <dd class="tag-description">
              <ul class="dummy">
                <li>
                  Logs the query if a logger is provided and has a debug method.
                </li>
              </ul>
            </dd>

            <dt class="tag-source">Source:</dt>
            <dd class="tag-source">
              <ul class="dummy">
                <li>
                  <a href="TableModel.js.html">TableModel.js</a>,
                  <a href="TableModel.js.html#line98">line 98</a>
                </li>
              </ul>
            </dd>
          </dl>

          <h5 class="h5-parameters">Parameters:</h5>

          <table class="params">
            <thead>
              <tr>
                <th>Name</th>

                <th>Type</th>

                <th class="last">Description</th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td class="name"><code>query</code></td>

                <td class="type">
                  <span class="param-type">string</span>
                </td>

                <td class="description last">The query string to log.</td>
              </tr>
            </tbody>
          </table>

          <h4 class="name" id="reload">
            <span class="type-signature type-signature-async">(async) </span
            >reload<span class="signature">(id)</span
            ><span class="type-signature">
              &rarr; {Promise.&lt;(Object|null)>}</span
            >
          </h4>

          <dl class="details">
            <dt class="tag-description">Description:</dt>
            <dd class="tag-description">
              <ul class="dummy">
                <li>Alias for findById, used to refresh a record by its ID.</li>
              </ul>
            </dd>

            <dt class="tag-source">Source:</dt>
            <dd class="tag-source">
              <ul class="dummy">
                <li>
                  <a href="TableModel.js.html">TableModel.js</a>,
                  <a href="TableModel.js.html#line202">line 202</a>
                </li>
              </ul>
            </dd>
          </dl>

          <h5 class="h5-parameters">Parameters:</h5>

          <table class="params">
            <thead>
              <tr>
                <th>Name</th>

                <th>Type</th>

                <th class="last">Description</th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td class="name"><code>id</code></td>

                <td class="type">
                  <span class="param-type">number</span>
                  |

                  <span class="param-type">string</span>
                </td>

                <td class="description last">
                  The ID of the record to reload.
                </td>
              </tr>
            </tbody>
          </table>

          <h5 class="h5-returns">Returns:</h5>

          <div class="param-desc">The reloaded record or null.</div>

          <dl class="param-type">
            <dt>Type</dt>
            <dd>
              <span class="param-type">Promise.&lt;(Object|null)></span>
            </dd>
          </dl>

          <h4 class="name" id="sanitizeDto">
            <span class="type-signature"></span>sanitizeDto<span
              class="signature"
              >(dto)</span
            ><span class="type-signature"> &rarr; {Object}</span>
          </h4>

          <dl class="details">
            <dt class="tag-description">Description:</dt>
            <dd class="tag-description">
              <ul class="dummy">
                <li>
                  Filters the input DTO to include only valid column names
                  defined in the schema.
                </li>
              </ul>
            </dd>

            <dt class="tag-source">Source:</dt>
            <dd class="tag-source">
              <ul class="dummy">
                <li>
                  <a href="TableModel.js.html">TableModel.js</a>,
                  <a href="TableModel.js.html#line83">line 83</a>
                </li>
              </ul>
            </dd>
          </dl>

          <h5 class="h5-parameters">Parameters:</h5>

          <table class="params">
            <thead>
              <tr>
                <th>Name</th>

                <th>Type</th>

                <th class="last">Description</th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td class="name"><code>dto</code></td>

                <td class="type">
                  <span class="param-type">Object</span>
                </td>

                <td class="description last">
                  Data Transfer Object to sanitize.
                </td>
              </tr>
            </tbody>
          </table>

          <h5 class="h5-returns">Returns:</h5>

          <div class="param-desc">Sanitized DTO with valid columns.</div>

          <dl class="param-type">
            <dt>Type</dt>
            <dd>
              <span class="param-type">Object</span>
            </dd>
          </dl>

          <h4 class="name" id="setSchema">
            <span class="type-signature"></span>setSchema<span class="signature"
              >(dbSchema)</span
            ><span class="type-signature"></span>
          </h4>

          <dl class="details">
            <dt class="tag-description">Description:</dt>
            <dd class="tag-description">
              <ul class="dummy">
                <li>Sets the schema name for this instance of TableModel.</li>
              </ul>
            </dd>

            <dt class="tag-source">Source:</dt>
            <dd class="tag-source">
              <ul class="dummy">
                <li>
                  <a href="TableModel.js.html">TableModel.js</a>,
                  <a href="TableModel.js.html#line507">line 507</a>
                </li>
              </ul>
            </dd>
          </dl>

          <h5 class="h5-parameters">Parameters:</h5>

          <table class="params">
            <thead>
              <tr>
                <th>Name</th>

                <th>Type</th>

                <th class="last">Description</th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td class="name"><code>dbSchema</code></td>

                <td class="type">
                  <span class="param-type">string</span>
                </td>

                <td class="description last">The new schema name.</td>
              </tr>
            </tbody>
          </table>

          <h4 class="name" id="truncate">
            <span class="type-signature type-signature-async">(async) </span
            >truncate<span class="signature">()</span
            ><span class="type-signature"> &rarr; {Promise.&lt;void>}</span>
          </h4>

          <dl class="details">
            <dt class="tag-description">Description:</dt>
            <dd class="tag-description">
              <ul class="dummy">
                <li>
                  Removes all rows and resets ID sequence using TRUNCATE
                  CASCADE.
                </li>
              </ul>
            </dd>

            <dt class="tag-source">Source:</dt>
            <dd class="tag-source">
              <ul class="dummy">
                <li>
                  <a href="TableModel.js.html">TableModel.js</a>,
                  <a href="TableModel.js.html#line492">line 492</a>
                </li>
              </ul>
            </dd>
          </dl>

          <h5 class="h5-returns">Returns:</h5>

          <dl class="param-type">
            <dt>Type</dt>
            <dd>
              <span class="param-type">Promise.&lt;void></span>
            </dd>
          </dl>

          <h4 class="name" id="update">
            <span class="type-signature type-signature-async">(async) </span
            >update<span class="signature">(id, dto)</span
            ><span class="type-signature"> &rarr; {Promise.&lt;Object>}</span>
          </h4>

          <dl class="details">
            <dt class="tag-description">Description:</dt>
            <dd class="tag-description">
              <ul class="dummy">
                <li>Updates an existing row by ID.</li>
              </ul>
            </dd>

            <dt class="tag-source">Source:</dt>
            <dd class="tag-source">
              <ul class="dummy">
                <li>
                  <a href="TableModel.js.html">TableModel.js</a>,
                  <a href="TableModel.js.html#line414">line 414</a>
                </li>
              </ul>
            </dd>
          </dl>

          <h5 class="h5-parameters">Parameters:</h5>

          <table class="params">
            <thead>
              <tr>
                <th>Name</th>

                <th>Type</th>

                <th class="last">Description</th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td class="name"><code>id</code></td>

                <td class="type">
                  <span class="param-type">number</span>
                  |

                  <span class="param-type">string</span>
                </td>

                <td class="description last">
                  The ID of the record to update.
                </td>
              </tr>

              <tr>
                <td class="name"><code>dto</code></td>

                <td class="type">
                  <span class="param-type">Object</span>
                </td>

                <td class="description last">
                  Data Transfer Object containing updated values.
                </td>
              </tr>
            </tbody>
          </table>

          <h5 class="h5-returns">Returns:</h5>

          <div class="param-desc">The updated row.</div>

          <dl class="param-type">
            <dt>Type</dt>
            <dd>
              <span class="param-type">Promise.&lt;Object></span>
            </dd>
          </dl>

          <h4 class="name" id="withSchema">
            <span class="type-signature"></span>withSchema<span
              class="signature"
              >(dbSchema)</span
            ><span class="type-signature">
              &rarr; {<a href="TableModel.html">TableModel</a>}</span
            >
          </h4>

          <dl class="details">
            <dt class="tag-description">Description:</dt>
            <dd class="tag-description">
              <ul class="dummy">
                <li>
                  Sets the schema name and returns the instance for chaining.
                </li>
              </ul>
            </dd>

            <dt class="tag-source">Source:</dt>
            <dd class="tag-source">
              <ul class="dummy">
                <li>
                  <a href="TableModel.js.html">TableModel.js</a>,
                  <a href="TableModel.js.html#line516">line 516</a>
                </li>
              </ul>
            </dd>
          </dl>

          <h5 class="h5-parameters">Parameters:</h5>

          <table class="params">
            <thead>
              <tr>
                <th>Name</th>

                <th>Type</th>

                <th class="last">Description</th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td class="name"><code>dbSchema</code></td>

                <td class="type">
                  <span class="param-type">string</span>
                </td>

                <td class="description last">The new schema name.</td>
              </tr>
            </tbody>
          </table>

          <h5 class="h5-returns">Returns:</h5>

          <div class="param-desc">The instance of TableModel for chaining.</div>

          <dl class="param-type">
            <dt>Type</dt>
            <dd>
              <span class="param-type"
                ><a href="TableModel.html">TableModel</a></span
              >
            </dd>
          </dl>
        </article>
      </section>
    </div>

    <br class="clear" />

    <footer>
      Documentation generated by
      <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.4</a> on Sun Apr 20
      2025 10:40:03 GMT-0500 (Central Daylight Time) using the
      <a href="https://github.com/clenemt/docdash">docdash</a> theme.
    </footer>

    <script>
      prettyPrint();
    </script>
    <script src="scripts/polyfill.js"></script>
    <script src="scripts/linenumber.js"></script>
  </body>
</html>
